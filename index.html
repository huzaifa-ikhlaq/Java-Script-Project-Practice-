<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="src/output.css">
</head>

<body class="bg-gray-400 p-4">
    <div>
        <div class="flex justify-between items-center">
            <button class="text-white text-lg bg-cyan-900 rounded-2xl px-10 py-3 ro mt-5 ">Click</button>
            <span id="filter" class="">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24">
                    <path fill="none" stroke="#fff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="1.5"
                        d="M21.25 12H8.895m-4.361 0H2.75m18.5 6.607h-5.748m-4.361 0H2.75m18.5-13.214h-3.105m-4.361 0H2.75m13.214 2.18a2.18 2.18 0 1 0 0-4.36a2.18 2.18 0 0 0 0 4.36Zm-9.25 6.607a2.18 2.18 0 1 0 0-4.36a2.18 2.18 0 0 0 0 4.36Zm6.607 6.608a2.18 2.18 0 1 0 0-4.361a2.18 2.18 0 0 0 0 4.36Z" />
                </svg>
            </span>
        </div>
        <form id="product-form" class="text-xl  flex flex-col gap-2 mt-20  ">
            <!-- <input-1></input-1> -->
            <input id="product-name" class="border border-gray-100 w-full pl-4 py-4 rounded-xl " type="text" name=""
                required placeholder="Enter Product Name" id="">
            <!-- <input-2></input-2> -->
            <input id="product-Category" class="border border-gray-100 w-full pl-4 py-4 rounded-xl " type="text" name=""
                required placeholder="Enter Product Category" id="">
            <!-- <input-3></input-3> -->
            <input id="product-quantity" class="border border-gray-100 pl-4 py-4 rounded-2xl " type="text" name=""
                required placeholder="Enter Product Quantity" id="">
            <!-- <input-4></input-4> -->
            <input id="product-price" class="border border-gray-100 pl-4 py-4 rounded-2xl " type="text" name="" required
                placeholder="Enter Product Price" id="">
            <!-- <submit-btn></submit-btn> -->
            <div class="flex justify-end gap-2 font-semibold">
                <!-- <button id="clearBtn" type="button"
                    class="text-white text-lg bg-red-800 rounded-2xl w-40 py-3  mt-5  relative ">Clear</button> -->
                <button id="submitBtn" type="submit"
                    class="text-white text-lg bg-emerald-800 rounded-2xl w-40 py-3  mt-5  relative ">Submit</button>

            </div>
        </form>
        <ul id="product-list" class="mt-10  space-y-2 w-full  ">
            <!-- Task items will be added here  -->
        </ul>
    </div>
    <script>
        let productForm = document.getElementById('product-form');
        let productNameInput = document.getElementById('product-name');
        let productCategoryeInput = document.getElementById('product-Category');
        let productQuantityInput = document.getElementById('product-quantity');
        let productPriceInput = document.getElementById('product-price');
        let productList = document.getElementById('product-list');
        let clearBtn = document.getElementById('clearBtn');

        // clearBtn.addEventListener('click', () => {
        //     productList.innerHTML = '';
        // })

        productForm.addEventListener('submit', (e) => {
            e.preventDefault();
            addProductdetail();
        });

        function addProductdetail() {

            let productName = productNameInput.value.trim();
            let productCategory = productCategoryeInput.value.trim();
            let productQuantity = productQuantityInput.value.trim();
            let productPrice = productPriceInput.value.trim();

            if (productName, productCategory, productQuantityInput, productPriceInput) {

                let li = document.createElement('li');
                li.classList.add('bg-[#0e5755]', 'text-white', 'rounded-2xl', 'py-3', 'pl-4', 'font-medium', 'border', 'border-gray-500', 'w-full', 'flex', 'items-center', 'justify-between')
                productList.appendChild(li);
                productNameInput.value = '';
                productCategoryeInput.value = '';
                productQuantityInput.value = '';
                productPriceInput.value = '';

                // Icons container
                let productDiv = document.createElement('div');
                productDiv.classList.add('flex', 'gap-2', 'pr-5');

                // Product name span
                let nameSpan = document.createElement('span');
                nameSpan.textContent = `Product name: ${productName}`

                // Product Category span
                let CategorySpan = document.createElement('span');
                CategorySpan.textContent = `Product category: ${productCategory}`

                // Product Quantity span
                let QuantitySpan = document.createElement('span');
                QuantitySpan.textContent = `Product quantity: ${productQuantity}`

                // Product Price span
                let priceSpan = document.createElement('span');
                priceSpan.textContent = `Product price: ${productPrice}`

                // Icons container
                let iconsDiv = document.createElement('div');
                iconsDiv.classList.add('flex', 'justify-end', 'gap-2', 'pr-5');

                // Update  icon 
                let updateBtn = document.createElement('button');
                updateBtn.innerHTML = ` <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24"> <path stroke="#22c55e" stroke-width="2" d="M16.475 5.408a2.5 2.5 0 1 1 3.536 3.535l-9.192 9.192a2 2 0 0 1-.707.464l-4.243 1.415 1.415-4.243a2 2 0 0 1 .464-.707l9.192-9.192Z"/ </svg> `;
                updateBtn.classList.add('bg-transparent', 'border-none', 'cursor-pointer');

                // Delete icon 
                let deleteBtn = document.createElement('button');
                deleteBtn.innerHTML = ` <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24"> <path stroke="#ef4444" stroke-width="2" d="M6 6l12 12M6 18L18 6"/> </svg>`;
                deleteBtn.classList.add('bg-transparent', 'border-none', 'cursor-pointer');

                // Delete functionality
                deleteBtn.addEventListener('click', () => {

                    // overlay
                    let overlay = document.createElement('div');
                    overlay.classList.add('fixed', 'inset-0', 'bg-black/60', 'z-40');
                    document.body.appendChild(overlay);

                    //  popupWrap
                    let popupWrap = document.createElement('li')
                    popupWrap.classList.add('flex', 'bg-white', 'w-100', 'h-80', 'rounded-2xl', 'absolute', 'z-50', 'top-43', 'right-140')

                    // popup 
                    let popup = document.createElement('div')
                    popup.classList.add('flex', 'flex-col', 'items-center', 'justify-center', 'bg-white', 'w-full', 'h-full', 'rounded-2xl', 'text-xl', 'font-medium')
                    popup.textContent = 'Are you sure to delete it?'

                    // Add Yes/No buttons
                    let btnContainer = document.createElement('div');
                    btnContainer.classList.add('flex', 'gap-4', 'mt-4');
                    //  yesBtn
                    let yesBtn = document.createElement('button');
                    yesBtn.textContent = 'Yes';
                    yesBtn.classList.add('bg-red-600', 'text-white', 'px-4', 'py-2', 'rounded');
                    yesBtn.onclick = () => {
                        li.remove();
                        popupWrap.remove();
                        overlay.remove();
                    };
                    // noBtn
                    let noBtn = document.createElement('button');
                    noBtn.textContent = 'No';
                    noBtn.classList.add('bg-gray-400', 'text-white', 'px-4', 'py-2', 'rounded');
                    noBtn.onclick = () => {
                        popupWrap.remove();
                        overlay.remove();
                    };


                    document.body.appendChild(popupWrap);
                    popupWrap.appendChild(popup);
                    popup.appendChild(btnContainer);
                    btnContainer.appendChild(yesBtn);
                    btnContainer.appendChild(noBtn);

                });

                // update functionality
                updateBtn.addEventListener('click', () => {
                    // overlay
                    let overlay = document.createElement('div');
                    overlay.classList.add('fixed', 'inset-0', 'bg-black/60', 'z-40');
                    document.body.appendChild(overlay);

                    //  popupWrap
                    let popupWrap = document.createElement('li')
                    popupWrap.classList.add('flex', 'bg-white', 'w-100', 'h-80', 'rounded-2xl', 'absolute', 'z-50', 'top-43', 'right-140')

                    // popup 
                    let popup = document.createElement('div')
                    popup.classList.add('flex', 'flex-col', 'items-center', 'justify-center', 'bg-white', 'w-full', 'h-full', 'rounded-2xl', 'text-xl', 'font-medium')

                    let inputUpdateName = document.createElement('input')
                    let inputUpdateCategory = document.createElement('input')
                    let inputUpdateQuantity = document.createElement('input')
                    let inputUpdatePrice = document.createElement('input')

                    inputUpdateName.classList.add('border', 'border-gray-300', 'rounded-xl', 'py-2', 'px-3','mb-2')
                    inputUpdateCategory.classList.add('border', 'border-gray-300', 'rounded-xl', 'py-2', 'px-3','mb-2')
                    inputUpdateQuantity.classList.add('border', 'border-gray-300', 'rounded-xl', 'py-2', 'px-3','mb-2')
                    inputUpdatePrice.classList.add('border', 'border-gray-300', 'rounded-xl', 'py-2', 'px-3','mb-2')

                    inputUpdateName.value = nameSpan.textContent.replace('Product name: ', '');
                    inputUpdateCategory.value = CategorySpan.textContent.replace('Product category: ', '');
                    inputUpdateQuantity.value = QuantitySpan.textContent.replace('Product quantity: ', '');
                    inputUpdatePrice.value = priceSpan.textContent.replace('Product price: ', '');

                    // Add updateBtn buttons
                    let btnContainer = document.createElement('div');
                    btnContainer.classList.add('flex', 'gap-4', 'mt-4');

                    // updateBtn
                    let updateBtn = document.createElement('button');
                    updateBtn.textContent = 'Update';
                    updateBtn.classList.add('bg-green-700', 'text-white', 'px-4', 'py-2', 'rounded');
                    updateBtn.onclick = () => {
                        nameSpan.textContent = `Product Name: ${inputUpdateName.value}`;
                        CategorySpan.textContent = `Product Category: ${inputUpdateCategory.value}`;
                        QuantitySpan.textContent = `Product Quantity: ${inputUpdateQuantity.value}`;
                        priceSpan.textContent = `Product price: ${inputUpdatePrice.value}`;
                        popupWrap.remove();
                        overlay.remove();
                    };

                    document.body.appendChild(popupWrap);

                    popupWrap.appendChild(popup);

                    popup.appendChild(inputUpdateName);
                    popup.appendChild(inputUpdateCategory);
                    popup.appendChild(inputUpdateQuantity);
                    popup.appendChild(inputUpdatePrice);

                    popup.appendChild(btnContainer);
                    btnContainer.appendChild(updateBtn);

                });

                productList.appendChild(li);

                li.appendChild(productDiv);
                productDiv.appendChild(nameSpan);
                productDiv.appendChild(CategorySpan);
                productDiv.appendChild(QuantitySpan);
                productDiv.appendChild(priceSpan);

                li.appendChild(iconsDiv);
                iconsDiv.appendChild(updateBtn);
                iconsDiv.appendChild(deleteBtn);
            }
        }
    </script>
</body>

</html>